<form  #form="ngForm">
  <div class="form-group">
    <abp-modal-header
    class="tabset"
    [title]="'Export Candidate' | localize"
    (onCloseClick)="bsModalRef.hide()"
    ></abp-modal-header>

    <div class="modal-body edit-user-body">
      <div class="export-form-container flex-column">
        <div class="flex-center-vertical w-100">
          <div class="input-wrapper flex-column">
            <label for="fromDate">From Date:</label>
            <input class="p-inputtext w-100" type="month" id="fromDate" [(ngModel)]="fromDate" name="fromDate" [value]="fromDate">
          </div>
          <div class="input-wrapper flex-column">
            <label for="toDate">To Date:</label>
            <input class="p-inputtext w-100" type="month" id="toDate" [(ngModel)]="toDate" name="toDate" [value]="toDate">
          </div>

          <div class="input-wrapper">
            <label for="status">Application Status</label>
            <p-dropdown
              inputId="status"
              [options]="_utilities.catReqCvStatus"
              placeholder="All"
              optionLabel="name"
              optionValue="id"
              styleClass="w-100"
              [filter]="true"
              filterBy="name"
              [showClear]="true"
              (onChange)="onDropdownChange($event)"
            ></p-dropdown>
          </div>
        </div>
        <div class="flex-center-vertical w-100">
          <mat-checkbox id="statusCheckbox" [(ngModel)]="statusHistory" name="statusCheckbox" class="mt-3">
            <div [pTooltip]="'Check this box to export data along with candidate history.'">Status history</div>
          </mat-checkbox>
          <div class="input-wrapper">
            <label for="fromStatus">From Status</label>
            <p-dropdown
              inputId="fromStatus"
              [options]="_utilities.catReqCvStatus"
              placeholder="All"
              optionLabel="name"
              optionValue="id"
              styleClass="w-100"
              [filter]="true"
              filterBy="name"
              [showClear]="true"
              (onChange)="onDropdownFromStatus($event)"
              [disabled]="!statusHistory"
            ></p-dropdown>
          </div>
          <div class="input-wrapper">
            <label for="fromStatus">To Status</label>
            <p-dropdown
              inputId="fromStatus"
              [options]="_utilities.catReqCvStatus"
              placeholder="All"
              optionLabel="name"
              optionValue="id"
              styleClass="w-100"
              [filter]="true"
              filterBy="name"
              [showClear]="true"
              (onChange)="onDropdownToStatus($event)"
              [disabled]="!statusHistory"
            ></p-dropdown>
          </div>
        </div>
      </div>

      <div class="club-bt mt-3">
        <button class="btn btn-danger" (click)="closePopup()">
          <i class="pi pi-times fa-download mr-1"></i>
          Cancel
        </button>
        <button class="btn btn-success" (click)="onExportReport()">
          <i class="pi pi-download fa-download mr-1"></i>
          Export
        </button>
        <div *ngIf="loading" class="spinner-container">
          <div class="spinner"></div>
        </div>
      </div>
    </div>
  </div>
</form>
